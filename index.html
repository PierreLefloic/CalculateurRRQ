<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="pageTitle">Calculateur RRQ</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
</head>
<body>
  <div class="logo-wrapper">
    <a href="https://cffp.recherche.usherbrooke.ca/" target="_blank">
      <img src="img/logo_CFFP.png" alt="Logo" class="logo" data-i18n-alt="logoAlt">
    </a>
    <div class="language-switcher">
      <button class="lang-btn active" data-lang="fr">FR</button>
      <button class="lang-btn" data-lang="en">EN</button>
    </div>
  </div>

  <div class="header-box">
    <h1 class="title" data-i18n="title">Simulateur de prestation du RRQ</h1>
    <p class="description" data-i18n="description">Calculez le Taux de Rendement Interne de vos investissements avec notre outil professionnel. Entrez vos données et obtenez une analyse détaillée de vos projets financiers.</p>
  </div>

  <div class="container-row">
    <div class="left-column">
      <div class="container">
        <!-- <h2>Simulation Tool</h2> -->
        <div class="input-grid">
          <label for="inputBirth" data-tooltip="Entrez votre date de naissance pour calculer votre âge et les années de cotisation" data-i18n="birthDate" data-i18n-tooltip="tooltipBirthDate">Date de naissance :</label>
          <input id="inputBirth" type="date" min="1900-01-01" max="9999-12-31">
          <label for="inputCurrentYear" data-tooltip="Année de référence pour les calculs de la simulation" data-i18n="currentYear" data-i18n-tooltip="tooltipCurrentYear">Année courante :</label>
          <select id="inputCurrentYear">
            <option value="2020">2020</option>
            <option value="2021">2021</option>
            <option value="2022">2022</option>
            <option value="2023">2023</option>
            <option value="2024">2024</option>
            <option value="2025" selected>2025</option>
            <option value="2026">2026</option>
            <option value="2027">2027</option>
            <option value="2028">2028</option>
            <option value="2029">2029</option>
            <option value="2030">2030</option>
            <option value="2031">2031</option>
          </select>
        </div>
      </div>

      <div class="container">
        <h2 data-i18n="salary">Salaire</h2>
        <div class="input-grid">
          <label for="BeforeCurrentYear" data-tooltip="Pourcentage du salaire à utiliser pour les années avant l'année courante (par défaut 100%)" data-i18n="beforeCurrentYear" data-i18n-tooltip="tooltipBeforeCurrentYear">Avant année courante (%) :</label>
          <input id="BeforeCurrentYear" type="number" value="100" min="0" max="200">
          <label for="AfterCurrentYear" data-tooltip="Pourcentage du salaire à utiliser pour les années après l'année courante (par défaut 100%)" data-i18n="afterCurrentYear" data-i18n-tooltip="tooltipAfterCurrentYear">Après année courante (%) :</label>
          <input id="AfterCurrentYear" type="number" value="100" min="0" max="200">
          <label for="InPercent" data-tooltip="Cochez cette case si vous voulez saisir les salaires en pourcentage du MGA plutôt qu'en montants absolus" data-i18n="inPercent" data-i18n-tooltip="tooltipInPercent">Saisie en pourcentage :</label>
          <div class="checkbox-container">
            <input id="InPercent" type="checkbox">
            <label for="InPercent" class="custom-checkbox">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20,6 9,17 4,12"></polyline>
              </svg>
            </label>
          </div>
        </div>
      </div>
      
      <div class="container">
        <h2 data-i18n="rrqParams">Paramètres RRQ</h2>
        <div class="input-grid">
          <label for="RetAge" data-tooltip="Âge auquel vous prévoyez arrêter de travailler et de cotiser au RRQ" data-i18n="retirementAge" data-i18n-tooltip="tooltipRetirementAge">Âge de retraite :</label>
          <select id="RetAge">
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
            <option value="60">60</option>
            <option value="61">61</option>
            <option value="62">62</option>
            <option value="63">63</option>
            <option value="64">64</option>
            <option value="65" selected>65</option>
            <option value="66">66</option>
            <option value="67">67</option>
            <option value="68">68</option>
            <option value="69">69</option>
            <option value="70">70</option>
            <option value="71">71</option>
            <option value="72">72</option>
          </select>
          <label for="BenAge" data-tooltip="Âge auquel vous prévoyez commencer à recevoir vos prestations du RRQ" data-i18n="benefitAge" data-i18n-tooltip="tooltipBenefitAge">Âge de la demande de prestation :</label>
          <select id="BenAge">
            <option value="60">60</option>
            <option value="61">61</option>
            <option value="62">62</option>
            <option value="63">63</option>
            <option value="64">64</option>
            <option value="65" selected>65</option>
            <option value="66">66</option>
            <option value="67">67</option>
            <option value="68">68</option>
            <option value="69">69</option>
            <option value="70">70</option>
            <option value="71">71</option>
            <option value="72">72</option>
          </select>
          <label for="AgeExp" data-tooltip="Âge jusqu'auquel vous prévoyez recevoir les prestations du RRQ" data-i18n="lifeExpectancy" data-i18n-tooltip="tooltipLifeExpectancy">Espérance de vie :</label>
          <input id="AgeExp" type="number" value="95" min="60" max="120">
          <label for="SelfEmployed" data-tooltip="Cochez cette case si vous êtes travailleur autonome (cotisations différentes)" data-i18n="selfEmployed" data-i18n-tooltip="tooltipSelfEmployed">Travailleur autonome :</label>
          <div class="checkbox-container">
            <input id="SelfEmployed" type="checkbox">
            <label for="SelfEmployed" class="custom-checkbox">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20,6 9,17 4,12"></polyline>
              </svg>
            </label>
          </div>
        </div>
      </div>
      <div class="container">
        <h2 data-i18n="economicParams">Paramètres économiques</h2>
        <div class="input-grid">
          <label for="InflationRate" data-tooltip="Taux d'inflation annuel prévu pour ajuster les montants futurs" data-i18n="inflationRate" data-i18n-tooltip="tooltipInflationRate">Taux d'inflation (%) :</label>
          <input id="InflationRate" type="number" value="2.1" min="0" max="100" step="0.1">
          <label for="SalaryIncrease" data-tooltip="Taux de croissance annuel prévu des salaires au-dessus de l'inflation" data-i18n="salaryIncrease" data-i18n-tooltip="tooltipSalaryIncrease">Croissance des salaires (%) :</label>
          <input id="SalaryIncrease" type="number" value="3.1" min="0" max="100" step="0.1">
        </div>
      </div>
      
      <button id="launchSimulation" disabled data-i18n="launchSimulation">Lancer la simulation</button>
    </div>
    
    <div class="right-column">
      <div class="container tall-container">
        <h2 data-i18n="salaryGridTitle">Saisie du salaire pour chaque année</h2>
        <div class="salary-grid">
          <!-- Header Row -->
          <p><strong data-i18n="age">Âge</strong></p>
          <p><strong data-i18n="year">Année</strong></p>
          <p id="saisie-header"><strong data-i18n="salary_input">Saisie ($)</strong></p>
          <p><strong data-i18n="percentage">Pourcentage</strong></p>
          <p><strong data-i18n="salary_computed">Salaire</strong></p>
          
          <!-- Data Rows - Age 17 to 72 -->
          <p id="age_17">17</p><p id="year_17">2024</p><input type="number" id="salary_17" value="" min="0"><p id="percentage_17">114%</p><p id="computed_salary_17"></p>
          <p>18</p><p id="year_18">2025</p><input type="number" id="salary_18" value="" min="0"><p id="percentage_18">114%</p><p id="computed_salary_18"></p>
          <p>19</p><p id="year_19">2026</p><input type="number" id="salary_19" value="" min="0"><p id="percentage_19">114%</p><p id="computed_salary_19"></p>
          <p>20</p><p id="year_20">2027</p><input type="number" id="salary_20" value="" min="0"><p id="percentage_20">114%</p><p id="computed_salary_20"></p>
          <p>21</p><p id="year_21">2028</p><input type="number" id="salary_21" value="" min="0"><p id="percentage_21">114%</p><p id="computed_salary_21"></p>
          <p>22</p><p id="year_22">2029</p><input type="number" id="salary_22" value="" min="0"><p id="percentage_22">114%</p><p id="computed_salary_22"></p>
          <p>23</p><p id="year_23">2030</p><input type="number" id="salary_23" value="" min="0"><p id="percentage_23">114%</p><p id="computed_salary_23"></p>
          <p>24</p><p id="year_24">2031</p><input type="number" id="salary_24" value="" min="0"><p id="percentage_24">114%</p><p id="computed_salary_24"></p>
          <p>25</p><p id="year_25">2032</p><input type="number" id="salary_25" value="" min="0"><p id="percentage_25">114%</p><p id="computed_salary_25"></p>
          <p>26</p><p id="year_26">2033</p><input type="number" id="salary_26" value="" min="0"><p id="percentage_26">114%</p><p id="computed_salary_26"></p>
          <p>27</p><p id="year_27">2034</p><input type="number" id="salary_27" value="" min="0"><p id="percentage_27">114%</p><p id="computed_salary_27"></p>
          <p>28</p><p id="year_28">2035</p><input type="number" id="salary_28" value="" min="0"><p id="percentage_28">114%</p><p id="computed_salary_28"></p>
          <p>29</p><p id="year_29">2036</p><input type="number" id="salary_29" value="" min="0"><p id="percentage_29">114%</p><p id="computed_salary_29"></p>
          <p>30</p><p id="year_30">2037</p><input type="number" id="salary_30" value="" min="0"><p id="percentage_30">114%</p><p id="computed_salary_30"></p>
          <p>31</p><p id="year_31">2038</p><input type="number" id="salary_31" value="" min="0"><p id="percentage_31">114%</p><p id="computed_salary_31"></p>
          <p>32</p><p id="year_32">2039</p><input type="number" id="salary_32" value="" min="0"><p id="percentage_32">114%</p><p id="computed_salary_32"></p>
          <p>33</p><p id="year_33">2040</p><input type="number" id="salary_33" value="" min="0"><p id="percentage_33">114%</p><p id="computed_salary_33"></p>
          <p>34</p><p id="year_34">2041</p><input type="number" id="salary_34" value="" min="0"><p id="percentage_34">114%</p><p id="computed_salary_34"></p>
          <p>35</p><p id="year_35">2042</p><input type="number" id="salary_35" value="" min="0"><p id="percentage_35">114%</p><p id="computed_salary_35"></p>
          <p>36</p><p id="year_36">2043</p><input type="number" id="salary_36" value="" min="0"><p id="percentage_36">114%</p><p id="computed_salary_36"></p>
          <p>37</p><p id="year_37">2044</p><input type="number" id="salary_37" value="" min="0"><p id="percentage_37">114%</p><p id="computed_salary_37"></p>
          <p>38</p><p id="year_38">2045</p><input type="number" id="salary_38" value="" min="0"><p id="percentage_38">114%</p><p id="computed_salary_38"></p>
          <p>39</p><p id="year_39">2046</p><input type="number" id="salary_39" value="" min="0"><p id="percentage_39">114%</p><p id="computed_salary_39"></p>
          <p>40</p><p id="year_40">2047</p><input type="number" id="salary_40" value="" min="0"><p id="percentage_40">114%</p><p id="computed_salary_40"></p>
          <p>41</p><p id="year_41">2048</p><input type="number" id="salary_41" value="" min="0"><p id="percentage_41">114%</p><p id="computed_salary_41"></p>
          <p>42</p><p id="year_42">2049</p><input type="number" id="salary_42" value="" min="0"><p id="percentage_42">114%</p><p id="computed_salary_42"></p>
          <p>43</p><p id="year_43">2050</p><input type="number" id="salary_43" value="" min="0"><p id="percentage_43">114%</p><p id="computed_salary_43"></p>
          <p>44</p><p id="year_44">2051</p><input type="number" id="salary_44" value="" min="0"><p id="percentage_44">114%</p><p id="computed_salary_44"></p>
          <p>45</p><p id="year_45">2052</p><input type="number" id="salary_45" value="" min="0"><p id="percentage_45">114%</p><p id="computed_salary_45"></p>
          <p>46</p><p id="year_46">2053</p><input type="number" id="salary_46" value="" min="0"><p id="percentage_46">114%</p><p id="computed_salary_46"></p>
          <p>47</p><p id="year_47">2054</p><input type="number" id="salary_47" value="" min="0"><p id="percentage_47">114%</p><p id="computed_salary_47"></p>
          <p>48</p><p id="year_48">2055</p><input type="number" id="salary_48" value="" min="0"><p id="percentage_48">114%</p><p id="computed_salary_48"></p>
          <p>49</p><p id="year_49">2056</p><input type="number" id="salary_49" value="" min="0"><p id="percentage_49">114%</p><p id="computed_salary_49"></p>
          <p>50</p><p id="year_50">2057</p><input type="number" id="salary_50" value="" min="0"><p id="percentage_50">114%</p><p id="computed_salary_50"></p>
          <p>51</p><p id="year_51">2058</p><input type="number" id="salary_51" value="" min="0"><p id="percentage_51">114%</p><p id="computed_salary_51"></p>
          <p>52</p><p id="year_52">2059</p><input type="number" id="salary_52" value="" min="0"><p id="percentage_52">114%</p><p id="computed_salary_52"></p>
          <p>53</p><p id="year_53">2060</p><input type="number" id="salary_53" value="" min="0"><p id="percentage_53">114%</p><p id="computed_salary_53"></p>
          <p>54</p><p id="year_54">2061</p><input type="number" id="salary_54" value="" min="0"><p id="percentage_54">114%</p><p id="computed_salary_54"></p>
          <p>55</p><p id="year_55">2062</p><input type="number" id="salary_55" value="" min="0"><p id="percentage_55">114%</p><p id="computed_salary_55"></p>
          <p>56</p><p id="year_56">2063</p><input type="number" id="salary_56" value="" min="0"><p id="percentage_56">114%</p><p id="computed_salary_56"></p>
          <p>57</p><p id="year_57">2064</p><input type="number" id="salary_57" value="" min="0"><p id="percentage_57">114%</p><p id="computed_salary_57"></p>
          <p>58</p><p id="year_58">2065</p><input type="number" id="salary_58" value="" min="0"><p id="percentage_58">114%</p><p id="computed_salary_58"></p>
          <p>59</p><p id="year_59">2066</p><input type="number" id="salary_59" value="" min="0"><p id="percentage_59">114%</p><p id="computed_salary_59"></p>
          <p>60</p><p id="year_60">2067</p><input type="number" id="salary_60" value="" min="0"><p id="percentage_60">114%</p><p id="computed_salary_60"></p>
          <p>61</p><p id="year_61">2068</p><input type="number" id="salary_61" value="" min="0"><p id="percentage_61">114%</p><p id="computed_salary_61"></p>
          <p>62</p><p id="year_62">2069</p><input type="number" id="salary_62" value="" min="0"><p id="percentage_62">114%</p><p id="computed_salary_62"></p>
          <p>63</p><p id="year_63">2070</p><input type="number" id="salary_63" value="" min="0"><p id="percentage_63">114%</p><p id="computed_salary_63"></p>
          <p>64</p><p id="year_64">2071</p><input type="number" id="salary_64" value="" min="0"><p id="percentage_64">114%</p><p id="computed_salary_64"></p>
          <p>65</p><p id="year_65">2072</p><input type="number" id="salary_65" value="" min="0"><p id="percentage_65">114%</p><p id="computed_salary_65"></p>
          <p>66</p><p id="year_66">2073</p><input type="number" id="salary_66" value="" min="0"><p id="percentage_66">114%</p><p id="computed_salary_66"></p>
          <p>67</p><p id="year_67">2074</p><input type="number" id="salary_67" value="" min="0"><p id="percentage_67">114%</p><p id="computed_salary_67"></p>
          <p>68</p><p id="year_68">2075</p><input type="number" id="salary_68" value="" min="0"><p id="percentage_68">114%</p><p id="computed_salary_68"></p>
          <p>69</p><p id="year_69">2076</p><input type="number" id="salary_69" value="" min="0"><p id="percentage_69">114%</p><p id="computed_salary_69"></p>
          <p>70</p><p id="year_70">2077</p><input type="number" id="salary_70" value="" min="0"><p id="percentage_70">114%</p><p id="computed_salary_70"></p>
          <p>71</p><p id="year_71">2078</p><input type="number" id="salary_71" value="" min="0"><p id="percentage_71">114%</p><p id="computed_salary_71"></p>
          <p>72</p><p id="year_72">2079</p><input type="number" id="salary_72" value="" min="0"><p id="percentage_72">114%</p><p id="computed_salary_72"></p>
        </div>

      </div>
    </div>
    
    <!-- Mobile button positioned after salary table -->
    <button id="launchSimulation-mobile" class="mobile-button" disabled data-i18n="launchSimulation">Lancer la simulation</button>
  </div>

  <!-- Results Section -->
  <div class="results-section">
    <!-- Summary Results Container (now first) -->
    <div class="results-container">
      <h2 data-i18n="summaryTitle">Résumé des prestations</h2>
      <div id="summary-results" class="results-wrapper">
        <div class="summary-table">
          <!-- Column headers spanning -->
          <div class="results-header"></div>
          <div class="results-header summary-header" title="Montants en dollars constants de 2025" data-i18n="dollarsOf2025" data-i18n-title="tooltipDollars2025">En dollars de<br>2025</div>
          <div class="results-header summary-header" title="Montants en dollars constants de 2030" data-i18n="dollarsOf2030" data-i18n-title="tooltipDollars2030">En dollars de<br>2030</div>
          
          <!-- Data Rows -->
          <div class="results-header summary-label" title="Prestation annuelle totale du Régime de rentes du Québec" data-i18n="annualRRQBenefit" data-i18n-title="tooltipAnnualRRQ">Prestation annuelle du RRQ</div>
          <div class="results-cell"></div>
          <div class="results-cell"></div>
          
          <div class="results-header summary-label" title="Montant de la prestation de base du régime" data-i18n="basicRegime" data-i18n-title="tooltipBasicRegime">Régime de base</div>
          <div class="results-cell"></div>
          <div class="results-cell"></div>
          
          <div class="results-header summary-label" title="Montant du régime supplémentaire - volet 1" data-i18n="supplementaryRegime1" data-i18n-title="tooltipSupp1">Régime supplémentaire - volet 1</div>
          <div class="results-cell"></div>
          <div class="results-cell"></div>
          
          <div class="results-header summary-label" title="Montant du régime supplémentaire - volet 2" data-i18n="supplementaryRegime2" data-i18n-title="tooltipSupp2">Régime supplémentaire - volet 2</div>
          <div class="results-cell"></div>
          <div class="results-cell"></div>
        </div>
      </div>
    </div>
    
    <!-- Detailed Results Container (now second) -->
    <div class="results-container summary-container">
      <h2 data-i18n="detailedResultsTitle">Résultats détaillés de la simulation</h2>
      <div id="simulation-results" class="results-wrapper">
        <!-- Loading overlay -->
        <div id="loading-overlay" class="loading-overlay hidden">
          <div class="loading-spinner"></div>
          <p class="loading-text" data-i18n="simulationInProgress">Simulation en cours...</p>
        </div>
        <div class="results-table">
          <!-- Prestation annuelle spanning header -->
          <div class="results-header"></div>
          <div class="results-header"></div>
          <div class="results-header"></div>
          <div class="results-header"></div>
          <div class="results-header prestation-header" title="Montant total des prestations annuelles" data-i18n="annualBenefit" data-i18n-title="tooltipAnnualTotal">Prestation annuelle</div>
          
          <!-- Header Row -->
          <div class="results-header" title="Âge de la personne pour cette année de calcul" data-i18n="age" data-i18n-title="tooltipAge">Âge</div>
          <div class="results-header" title="Année civile correspondant à cet âge" data-i18n="year" data-i18n-title="tooltipYear">Année</div>
          <div class="results-header" title="Taux de rendement interne calculé pour cette année, exprimé en pourcentage" data-i18n="internalReturnRate" data-i18n-title="tooltipRate">Taux de rendement interne</div>
          <div class="results-header" title="Montant de la cotisation annuelle au RRQ en dollars de l'année courante" data-i18n="annualContribution" data-i18n-title="tooltipContribution">Cotisation annuelle<br><small>En dollars courant</small></div>
          <div class="results-header" title="Montant accumulé des prestations RRQ en dollars constants de 2025" data-i18n="accumulatedBenefit" data-i18n-title="tooltipAccumulated">Accumulée<br><small>En dollars de 2025</small></div>
          <div class="results-header" title="Montant additionnel des prestations RRQ pour cette année en dollars constants de 2025" data-i18n="additionalBenefit" data-i18n-title="tooltipAdditional">Additionnelle<br><small>En dollars de 2025</small></div>
        </div>
      </div>
    </div>
  </div>

  
  <footer class="footer">
    <p class="footer-text" data-i18n="footerText1">Travail collectif auquel ont participé <strong>Frédérick Hallé-Rochon</strong>, <strong>Daniel Laverdière</strong> et <strong>Luc Godbout</strong>.</p>
    <p class="footer-text" data-i18n="footerText2">Les auteurs collaborent aux travaux de la <a href="https://cffp.recherche.usherbrooke.ca/" target="_blank">Chaire de recherche en fiscalité et en finances publiques</a>, qu'ils remercient pour l'appui financier qui a rendu possible la réalisation de cet outil.</p>
    <p class="footer-text" data-i18n="footerText3">Outil interactif conçu et réalisé par <strong>Pierre Lefloïc</strong>.</p>
    <p class="footer-text" data-i18n="footerText4">Pour plus d'information, voir l'étude [Lien web à venir].</p>
  </footer>

  <!-- Back to Top Button -->
  <button id="backToTop" class="back-to-top-btn hidden" title="Retour en haut" data-i18n-title="backToTop">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="18,15 12,9 6,15"></polyline>
    </svg>
  </button>

  <script src="js/i18n.js"></script>
  <script src="js/animations.js"></script>
  <script src="js/form-management.js"></script>
  <script src="js/pension-calculator.js"></script>
  <script src="js/pension-integration.js"></script>
 
</body>
</html>
