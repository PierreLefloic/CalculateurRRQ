<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculateur TRI</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
</head>
<body>
  <div class="logo-wrapper">
    <img src="img/logo_CFFP.png" alt="Logo" class="logo">
  </div>

  <div class="header-box">
    <h1 class="title">Simulateur de prestation du RRQ</h1>
    <p class="description">Calculez le Taux de Rendement Interne de vos investissements avec notre outil professionnel. Entrez vos données et obtenez une analyse détaillée de vos projets financiers.</p>
  </div>

  <div class="container-row">
    <div class="left-column">
      <div class="container">
        <!-- <h2>Simulation Tool</h2> -->
        <div class="input-grid">
          <label for="inputBirth">Date de naissance :</label>
          <input id="inputBirth" type="date" max="9999-12-31">
          <label for="inputCurrentYear">Année courante :</label>
          <input id="inputCurrentYear" type="number" value="2025" min="1900" max="2100" placeholder="YYYY">
        </div>
      </div>

      <div class="container">
        <h2>Salaire</h2>
        <div class="input-grid">
          <label for="BeforeCurrentYear">Avant année courante (%) :</label>
          <input id="BeforeCurrentYear" type="number" value="114" min="0" max="200">
          <label for="AfterCurrentYear">Après année courante (%) :</label>
          <input id="AfterCurrentYear" type="number" value="114" min="0" max="200">
          <label for="InPercent">Saisie en pourcentage :</label>
          <div class="checkbox-container">
            <input id="InPercent" type="checkbox">
            <label for="InPercent" class="custom-checkbox">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20,6 9,17 4,12"></polyline>
              </svg>
            </label>
          </div>
        </div>
      </div>
      
      <div class="container">
        <h2>Paramètres RRQ</h2>
        <div class="input-grid">
          <label for="RetAge">Âge de retraite :</label>
          <select id="RetAge">
            <option value="60">60</option>
            <option value="61">61</option>
            <option value="62">62</option>
            <option value="63">63</option>
            <option value="64">64</option>
            <option value="65" selected>65</option>
            <option value="66">66</option>
            <option value="67">67</option>
            <option value="68">68</option>
            <option value="69">69</option>
            <option value="70">70</option>
            <option value="71">71</option>
            <option value="72">72</option>
          </select>
          <label for="BenAge">Âge de la demande de prestation :</label>
          <select id="BenAge">
            <option value="60">60</option>
            <option value="61">61</option>
            <option value="62">62</option>
            <option value="63">63</option>
            <option value="64">64</option>
            <option value="65" selected>65</option>
            <option value="66">66</option>
            <option value="67">67</option>
            <option value="68">68</option>
            <option value="69">69</option>
            <option value="70">70</option>
            <option value="71">71</option>
            <option value="72">72</option>
          </select>
          <label for="AgeExp">Espérance de vie :</label>
          <input id="AgeExp" type="number" value="85" min="60" max="120">
          <label for="SelfEmployed">Travailleur autonome :</label>
          <div class="checkbox-container">
            <input id="SelfEmployed" type="checkbox">
            <label for="SelfEmployed" class="custom-checkbox">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20,6 9,17 4,12"></polyline>
              </svg>
            </label>
          </div>
        </div>
      </div>
      <div class="container">
        <h2>Paramètres économiques</h2>
        <div class="input-grid">
          <label for="InflationRate">Taux d'inflation (%) :</label>
          <input id="InflationRate" type="number" value="2" min="0" max="100">
          <label for="SalaryIncrease">Croissance des salaires (%) :</label>
          <input id="SalaryIncrease" type="number" value="3" min="0" max="100">
        </div>
      </div>
      
      <button id="launchSimulation">Lancer la simulation</button>
    </div>
    
    <div class="right-column">
      <div class="container tall-container">
        <h2>Saisie du salaire pour chaque année</h2>
        <div class="salary-grid">
          <!-- Header Row -->
          <p><strong>Âge</strong></p>
          <p><strong>Année</strong></p>
          <p id="saisie-header"><strong>Saisie ($)</strong></p>
          <p><strong>Pourcentage</strong></p>
          <p><strong>Salaire</strong></p>
          
          <!-- Data Rows - Age 17 to 72 -->
          <p id="age_17">17</p><p id="year_17">2024</p><input type="number" id="salary_17" value="0" min="0"><p id="percentage_17">114%</p><p id="computed_salary_17">0</p>
          <p>18</p><p id="year_18">2025</p><input type="number" id="salary_18" value="0" min="0"><p id="percentage_18">114%</p><p id="computed_salary_18">0</p>
          <p>19</p><p id="year_19">2026</p><input type="number" id="salary_19" value="0" min="0"><p id="percentage_19">114%</p><p id="computed_salary_19">0</p>
          <p>20</p><p id="year_20">2027</p><input type="number" id="salary_20" value="0" min="0"><p id="percentage_20">114%</p><p id="computed_salary_20">0</p>
          <p>21</p><p id="year_21">2028</p><input type="number" id="salary_21" value="0" min="0"><p id="percentage_21">114%</p><p id="computed_salary_21">0</p>
          <p>22</p><p id="year_22">2029</p><input type="number" id="salary_22" value="0" min="0"><p id="percentage_22">114%</p><p id="computed_salary_22">0</p>
          <p>23</p><p id="year_23">2030</p><input type="number" id="salary_23" value="0" min="0"><p id="percentage_23">114%</p><p id="computed_salary_23">0</p>
          <p>24</p><p id="year_24">2031</p><input type="number" id="salary_24" value="0" min="0"><p id="percentage_24">114%</p><p id="computed_salary_24">0</p>
          <p>25</p><p id="year_25">2032</p><input type="number" id="salary_25" value="0" min="0"><p id="percentage_25">114%</p><p id="computed_salary_25">0</p>
          <p>26</p><p id="year_26">2033</p><input type="number" id="salary_26" value="0" min="0"><p id="percentage_26">114%</p><p id="computed_salary_26">0</p>
          <p>27</p><p id="year_27">2034</p><input type="number" id="salary_27" value="0" min="0"><p id="percentage_27">114%</p><p id="computed_salary_27">0</p>
          <p>28</p><p id="year_28">2035</p><input type="number" id="salary_28" value="0" min="0"><p id="percentage_28">114%</p><p id="computed_salary_28">0</p>
          <p>29</p><p id="year_29">2036</p><input type="number" id="salary_29" value="0" min="0"><p id="percentage_29">114%</p><p id="computed_salary_29">0</p>
          <p>30</p><p id="year_30">2037</p><input type="number" id="salary_30" value="0" min="0"><p id="percentage_30">114%</p><p id="computed_salary_30">0</p>
          <p>31</p><p id="year_31">2038</p><input type="number" id="salary_31" value="0" min="0"><p id="percentage_31">114%</p><p id="computed_salary_31">0</p>
          <p>32</p><p id="year_32">2039</p><input type="number" id="salary_32" value="0" min="0"><p id="percentage_32">114%</p><p id="computed_salary_32">0</p>
          <p>33</p><p id="year_33">2040</p><input type="number" id="salary_33" value="0" min="0"><p id="percentage_33">114%</p><p id="computed_salary_33">0</p>
          <p>34</p><p id="year_34">2041</p><input type="number" id="salary_34" value="0" min="0"><p id="percentage_34">114%</p><p id="computed_salary_34">0</p>
          <p>35</p><p id="year_35">2042</p><input type="number" id="salary_35" value="0" min="0"><p id="percentage_35">114%</p><p id="computed_salary_35">0</p>
          <p>36</p><p id="year_36">2043</p><input type="number" id="salary_36" value="0" min="0"><p id="percentage_36">114%</p><p id="computed_salary_36">0</p>
          <p>37</p><p id="year_37">2044</p><input type="number" id="salary_37" value="0" min="0"><p id="percentage_37">114%</p><p id="computed_salary_37">0</p>
          <p>38</p><p id="year_38">2045</p><input type="number" id="salary_38" value="0" min="0"><p id="percentage_38">114%</p><p id="computed_salary_38">0</p>
          <p>39</p><p id="year_39">2046</p><input type="number" id="salary_39" value="0" min="0"><p id="percentage_39">114%</p><p id="computed_salary_39">0</p>
          <p>40</p><p id="year_40">2047</p><input type="number" id="salary_40" value="0" min="0"><p id="percentage_40">114%</p><p id="computed_salary_40">0</p>
          <p>41</p><p id="year_41">2048</p><input type="number" id="salary_41" value="0" min="0"><p id="percentage_41">114%</p><p id="computed_salary_41">0</p>
          <p>42</p><p id="year_42">2049</p><input type="number" id="salary_42" value="0" min="0"><p id="percentage_42">114%</p><p id="computed_salary_42">0</p>
          <p>43</p><p id="year_43">2050</p><input type="number" id="salary_43" value="0" min="0"><p id="percentage_43">114%</p><p id="computed_salary_43">0</p>
          <p>44</p><p id="year_44">2051</p><input type="number" id="salary_44" value="0" min="0"><p id="percentage_44">114%</p><p id="computed_salary_44">0</p>
          <p>45</p><p id="year_45">2052</p><input type="number" id="salary_45" value="0" min="0"><p id="percentage_45">114%</p><p id="computed_salary_45">0</p>
          <p>46</p><p id="year_46">2053</p><input type="number" id="salary_46" value="0" min="0"><p id="percentage_46">114%</p><p id="computed_salary_46">0</p>
          <p>47</p><p id="year_47">2054</p><input type="number" id="salary_47" value="0" min="0"><p id="percentage_47">114%</p><p id="computed_salary_47">0</p>
          <p>48</p><p id="year_48">2055</p><input type="number" id="salary_48" value="0" min="0"><p id="percentage_48">114%</p><p id="computed_salary_48">0</p>
          <p>49</p><p id="year_49">2056</p><input type="number" id="salary_49" value="0" min="0"><p id="percentage_49">114%</p><p id="computed_salary_49">0</p>
          <p>50</p><p id="year_50">2057</p><input type="number" id="salary_50" value="0" min="0"><p id="percentage_50">114%</p><p id="computed_salary_50">0</p>
          <p>51</p><p id="year_51">2058</p><input type="number" id="salary_51" value="0" min="0"><p id="percentage_51">114%</p><p id="computed_salary_51">0</p>
          <p>52</p><p id="year_52">2059</p><input type="number" id="salary_52" value="0" min="0"><p id="percentage_52">114%</p><p id="computed_salary_52">0</p>
          <p>53</p><p id="year_53">2060</p><input type="number" id="salary_53" value="0" min="0"><p id="percentage_53">114%</p><p id="computed_salary_53">0</p>
          <p>54</p><p id="year_54">2061</p><input type="number" id="salary_54" value="0" min="0"><p id="percentage_54">114%</p><p id="computed_salary_54">0</p>
          <p>55</p><p id="year_55">2062</p><input type="number" id="salary_55" value="0" min="0"><p id="percentage_55">114%</p><p id="computed_salary_55">0</p>
          <p>56</p><p id="year_56">2063</p><input type="number" id="salary_56" value="0" min="0"><p id="percentage_56">114%</p><p id="computed_salary_56">0</p>
          <p>57</p><p id="year_57">2064</p><input type="number" id="salary_57" value="0" min="0"><p id="percentage_57">114%</p><p id="computed_salary_57">0</p>
          <p>58</p><p id="year_58">2065</p><input type="number" id="salary_58" value="0" min="0"><p id="percentage_58">114%</p><p id="computed_salary_58">0</p>
          <p>59</p><p id="year_59">2066</p><input type="number" id="salary_59" value="0" min="0"><p id="percentage_59">114%</p><p id="computed_salary_59">0</p>
          <p>60</p><p id="year_60">2067</p><input type="number" id="salary_60" value="0" min="0"><p id="percentage_60">114%</p><p id="computed_salary_60">0</p>
          <p>61</p><p id="year_61">2068</p><input type="number" id="salary_61" value="0" min="0"><p id="percentage_61">114%</p><p id="computed_salary_61">0</p>
          <p>62</p><p id="year_62">2069</p><input type="number" id="salary_62" value="0" min="0"><p id="percentage_62">114%</p><p id="computed_salary_62">0</p>
          <p>63</p><p id="year_63">2070</p><input type="number" id="salary_63" value="0" min="0"><p id="percentage_63">114%</p><p id="computed_salary_63">0</p>
          <p>64</p><p id="year_64">2071</p><input type="number" id="salary_64" value="0" min="0"><p id="percentage_64">114%</p><p id="computed_salary_64">0</p>
          <p>65</p><p id="year_65">2072</p><input type="number" id="salary_65" value="0" min="0"><p id="percentage_65">114%</p><p id="computed_salary_65">0</p>
          <p>66</p><p id="year_66">2073</p><input type="number" id="salary_66" value="0" min="0"><p id="percentage_66">114%</p><p id="computed_salary_66">0</p>
          <p>67</p><p id="year_67">2074</p><input type="number" id="salary_67" value="0" min="0"><p id="percentage_67">114%</p><p id="computed_salary_67">0</p>
          <p>68</p><p id="year_68">2075</p><input type="number" id="salary_68" value="0" min="0"><p id="percentage_68">114%</p><p id="computed_salary_68">0</p>
          <p>69</p><p id="year_69">2076</p><input type="number" id="salary_69" value="0" min="0"><p id="percentage_69">114%</p><p id="computed_salary_69">0</p>
          <p>70</p><p id="year_70">2077</p><input type="number" id="salary_70" value="0" min="0"><p id="percentage_70">114%</p><p id="computed_salary_70">0</p>
          <p>71</p><p id="year_71">2078</p><input type="number" id="salary_71" value="0" min="0"><p id="percentage_71">114%</p><p id="computed_salary_71">0</p>
          <p>72</p><p id="year_72">2079</p><input type="number" id="salary_72" value="0" min="0"><p id="percentage_72">114%</p><p id="computed_salary_72">0</p>
        </div>

      </div>
    </div>
    
    <!-- Mobile button positioned after salary table -->
    <button id="launchSimulation-mobile" class="mobile-button">Lancer la simulation</button>
  </div>

  <!-- Results Section -->
  <div class="results-section">
    <!-- Summary Results Container (now first) -->
    <div class="results-container">
      <h2>Résumé des prestations</h2>
      <div id="summary-results" class="results-wrapper">
        <div class="summary-table">
          <!-- Column headers spanning -->
          <div class="results-header"></div>
          <div class="results-header summary-header" title="Montants en dollars constants de 2025">En dollars de<br>2025</div>
          <div class="results-header summary-header" title="Montants en dollars constants de 2030">En dollars de<br>2030</div>
          
          <!-- Data Rows -->
          <div class="results-header summary-label" title="Prestation annuelle totale du Régime de rentes du Québec">Prestation annuelle du RRQ</div>
          <div class="results-cell">17 898 $</div>
          <div class="results-cell">21 027 $</div>
          
          <div class="results-header summary-label" title="Montant de la prestation de base du régime">Régime de base</div>
          <div class="results-cell">16 645 $</div>
          <div class="results-cell">19 555 $</div>
          
          <div class="results-header summary-label" title="Montant du régime supplémentaire - volet 1">Régime supplémentaire - volet 1</div>
          <div class="results-cell">1 252 $</div>
          <div class="results-cell">1 471 $</div>
          
          <div class="results-header summary-label" title="Montant du régime supplémentaire - volet 2">Régime supplémentaire - volet 2</div>
          <div class="results-cell">0 $</div>
          <div class="results-cell">0 $</div>
        </div>
      </div>
    </div>
    
    <!-- Detailed Results Container (now second) -->
    <div class="results-container summary-container">
      <h2>Résultats détaillés de la simulation</h2>
      <div id="simulation-results" class="results-wrapper">
        <!-- Loading overlay -->
        <div id="loading-overlay" class="loading-overlay hidden">
          <div class="loading-spinner"></div>
          <p class="loading-text">Simulation en cours...</p>
        </div>
        <div class="results-table">
          <!-- Prestation annuelle spanning header -->
          <div class="results-header"></div>
          <div class="results-header"></div>
          <div class="results-header"></div>
          <div class="results-header"></div>
          <div class="results-header prestation-header" title="Montant total des prestations annuelles">Prestation annuelle</div>
          
          <!-- Header Row -->
          <div class="results-header" title="Âge de la personne pour cette année de calcul">Âge</div>
          <div class="results-header" title="Année civile correspondant à cet âge">Année</div>
          <div class="results-header" title="Taux de rendement interne calculé pour cette année, exprimé en pourcentage">Taux de rendement interne</div>
          <div class="results-header" title="Montant de la cotisation annuelle au RRQ en dollars de l'année courante">Cotisation annuelle<br><small>En dollars courant</small></div>
          <div class="results-header" title="Montant accumulé des prestations RRQ en dollars constants de 2025">Accumulée<br><small>En dollars de 2025</small></div>
          <div class="results-header" title="Montant additionnel des prestations RRQ pour cette année en dollars constants de 2025">Additionnelle<br><small>En dollars de 2025</small></div>
          
          <!-- Sample Data Rows (we'll replace with real data later) -->
          <div class="results-cell">28</div>
          <div class="results-cell">2025</div>
          <div class="results-cell">6,06%</div>
          <div class="results-cell">-1056</div>
          <div class="results-cell">1973</div>
          <div class="results-cell">195</div>
          
          <div class="results-cell">29</div>
          <div class="results-cell">2026</div>
          <div class="results-cell">6,13%</div>
          <div class="results-cell">-1056</div>
          <div class="results-cell">2168</div>
          <div class="results-cell">189</div>
          
          <div class="results-cell">30</div>
          <div class="results-cell">2027</div>
          <div class="results-cell">6,19%</div>
          <div class="results-cell">-1056</div>
          <div class="results-cell">2357</div>
          <div class="results-cell">184</div>
          
          <div class="results-cell">31</div>
          <div class="results-cell">2028</div>
          <div class="results-cell">6,26%</div>
          <div class="results-cell">-1056</div>
          <div class="results-cell">2541</div>
          <div class="results-cell">178</div>
          
          <div class="results-cell">32</div>
          <div class="results-cell">2029</div>
          <div class="results-cell">6,32%</div>
          <div class="results-cell">-1056</div>
          <div class="results-cell">2719</div>
          <div class="results-cell">173</div>
          
          <div class="results-cell">33</div>
          <div class="results-cell">2030</div>
          <div class="results-cell">6,39%</div>
          <div class="results-cell">-1056</div>
          <div class="results-cell">2892</div>
          <div class="results-cell">167</div>
          
          <div class="results-cell">34</div>
          <div class="results-cell">2031</div>
          <div class="results-cell">6,47%</div>
          <div class="results-cell">-1056</div>
          <div class="results-cell">3059</div>
          <div class="results-cell">163</div>
          
          <div class="results-cell">35</div>
          <div class="results-cell">2032</div>
          <div class="results-cell">6,55%</div>
          <div class="results-cell">-1056</div>
          <div class="results-cell">3222</div>
          <div class="results-cell">158</div>
          
          <div class="results-cell">36</div>
          <div class="results-cell">2033</div>
          <div class="results-cell">6,63%</div>
          <div class="results-cell">-1056</div>
          <div class="results-cell">3379</div>
          <div class="results-cell">153</div>
          
          <div class="results-cell">37</div>
          <div class="results-cell">2034</div>
          <div class="results-cell">6,72%</div>
          <div class="results-cell">-1056</div>
          <div class="results-cell">3532</div>
          <div class="results-cell">148</div>
        </div>
      </div>
    </div>
  </div>

  
  <footer class="footer">
    <p class="footer-text">Travail collectif auquel ont participé <strong>Frédérick Hallé-Rochon</strong>, <strong>Daniel Laverdière</strong> et <strong>Luc Godbout</strong>.</p>
    <p class="footer-text">Les auteurs collaborent aux travaux de la <a href="https://cffp.recherche.usherbrooke.ca/" target="_blank">Chaire de recherche en fiscalité et en finances publiques</a>, qu'ils remercient pour l'appui financier qui a rendu possible la réalisation de cet outil.</p>
    <p class="footer-text">Outil interactif conçu et réalisé par <strong>Pierre Lefloïc</strong>.</p>
    <p class="footer-text">Pour plus d'information, voir l'étude [Lien web à venir].</p>
  </footer>

  <!-- Back to Top Button -->
  <button id="backToTop" class="back-to-top-btn hidden" title="Retour en haut">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="18,15 12,9 6,15"></polyline>
    </svg>
  </button>

  <script src="js/app.js"></script>
  <script src="js/animations.js"></script>
  <script src="js/calculator.js"></script>
</body>
</html>
